{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\client\\\\src\\\\pages\\\\admin\\\\admin.js\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport Grid from \"react-bootstrap/lib/Grid\";\nimport Row from \"react-bootstrap/lib/Row\";\nimport Col from \"react-bootstrap/lib/Col\";\nimport ButtonToolBar from \"react-bootstrap/lib/ButtonToolbar\";\nimport Button from \"react-bootstrap/lib/Button\";\nimport { Modal } from \"../../components/Modal\";\nimport { Card } from \"../../components/Card\";\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Admin, _Component);\n\n  function Admin() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Admin)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      beers: [],\n      inStock: \"\"\n    };\n\n    _this.loadBeers = function () {\n      API.getBeers().then(function (res) {\n        return _this.setState({\n          beers: res.data\n        });\n      }, console.log(_this.state.beers)).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n\n      console.log(_this.state);\n    };\n\n    _this.addBeer = function () {\n      console.log(\"add beer function ran\");\n      var beerInfo = {\n        breweryName: _this.state.breweryName,\n        beerName: _this.state.beerName,\n        style: _this.state.style,\n        ibu: _this.state.ibu,\n        abv: _this.state.abv,\n        inStock: true\n      };\n      API.saveBeer(beerInfo).then(function (res) {\n        console.log(res, \"This is the response from beer info\");\n\n        if (res.status === 200) {\n          console.log(\"Beer succesfully added\");\n\n          _this.loadBeers();\n        } else {\n          console.log(\"There was a problem saving your beer\");\n        }\n      });\n    };\n\n    _this.deleteBeer = function (id) {\n      API.deleteBeer(id).then(function (res) {\n        return _this.loadBeers();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.toggleState = function (id, instock) {\n      console.log(instock + \"instock\");\n\n      if (instock === true) {\n        _this.setState({\n          inStock: false\n        });\n\n        console.log('changing state to false');\n        setTimeout(saveChanges, 3000); // this.editBeer(id);\n      } else {\n        _this.setState({\n          inStock: true\n        });\n\n        console.log('changing state to true');\n        setTimeout(saveChanges, 3000); // this.editBeer(id);\n      }\n\n      function saveChanges() {\n        this.editBeer(id);\n      } // this.setState(prevState => ({\n      //   inStock: !prevState.inStock,\n      // }));\n\n    };\n\n    _this.editBeer = function (id) {\n      console.log(_this.state);\n      console.log(\"state above\");\n      var data = {\n        '_id': id,\n        'inStock': _this.state.inStock\n      };\n      API.updateBeer(id, data).then(function (res) {\n        return console.log(res);\n      }, console.log(\"res\"), console.log(_this.state.beers), console.log(\"beer\"), _this.loadBeers()).catch(function (err) {\n        return console.log(err);\n      }); // this.loadBeers();\n    };\n\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadBeers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Admin Page\")), React.createElement(Col, {\n        md: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        buttonName: \"Add New Beer\",\n        modalTitle: \"Add New Beer\",\n        breweryName: this.state.breweryName,\n        beerName: this.state.beerName,\n        abv: this.state.abv,\n        ibu: this.state.ibu,\n        handleChange: this.handleInputChange,\n        handleClick: this.addBeer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }))), this.state.beers.length ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 1,\n        className: \"inStock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"On Tap?\")), React.createElement(Col, {\n        md: 2,\n        className: \"breweryName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Brewery Name\")), React.createElement(Col, {\n        md: 2,\n        className: \"beerName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Beer Name\")), React.createElement(Col, {\n        md: 2,\n        className: \"style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"Beer Style\")), React.createElement(Col, {\n        md: 1,\n        className: \"abv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"ABV\")), React.createElement(Col, {\n        md: 2,\n        className: \"ibu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"IBU\")), React.createElement(Col, {\n        md: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, this.state.beers.map(function (beer) {\n        return React.createElement(Col, {\n          md: 12,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: 1,\n          className: \"inStock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          className: \"inStock\",\n          checked: beer.inStock,\n          onChange: function onChange() {\n            return _this2.toggleState(beer._id, beer.inStock);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        })), React.createElement(Col, {\n          md: 2,\n          className: \"breweryName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, beer.breweryName), React.createElement(Col, {\n          md: 2,\n          className: \"beerName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, beer.beerName), React.createElement(Col, {\n          md: 2,\n          className: \"style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, beer.style), React.createElement(Col, {\n          md: 1,\n          className: \"abv\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, beer.abv), React.createElement(Col, {\n          md: 2,\n          className: \"ibu\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, beer.ibu), React.createElement(Col, {\n          md: 2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207\n          },\n          __self: this\n        }, React.createElement(ButtonToolBar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(Button, {\n          bsStyle: \"danger\",\n          onClick: function onClick() {\n            return _this2.deleteBeer(beer._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, \"Delete\"))))));\n      }))) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \" No Beers Listed -- Please click \\\"Add New Beer\\\" to begin. \")));\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default Admin;","map":{"version":3,"sources":["C:\\Users\\alyss\\Documents\\Coding Boot Camp\\Homework\\BeerMenu\\client\\src\\pages\\admin\\admin.js"],"names":["React","Component","API","Grid","Row","Col","ButtonToolBar","Button","Modal","Card","Admin","state","beers","inStock","loadBeers","getBeers","then","res","setState","data","console","log","catch","err","handleInputChange","event","target","name","value","addBeer","beerInfo","breweryName","beerName","style","ibu","abv","saveBeer","status","deleteBeer","id","toggleState","instock","setTimeout","saveChanges","editBeer","updateBeer","length","map","beer","_id"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport API from \"../../utils/API\"\r\nimport Grid from \"react-bootstrap/lib/Grid\";\r\nimport Row from \"react-bootstrap/lib/Row\";\r\nimport Col from \"react-bootstrap/lib/Col\";\r\nimport ButtonToolBar from \"react-bootstrap/lib/ButtonToolbar\";\r\nimport Button from \"react-bootstrap/lib/Button\";\r\nimport {Modal} from \"../../components/Modal\"\r\nimport {Card} from \"../../components/Card\";\r\n\r\n\r\nclass Admin extends Component {\r\n  state = {\r\n    beers: [],\r\n    inStock: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadBeers();\r\n  };\r\n\r\n  loadBeers = () => {\r\n    API.getBeers()\r\n      .then(res =>\r\n        this.setState({ beers: res.data }),\r\n        console.log(this.state.beers)\r\n        )\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n    console.log(this.state);\r\n  };\r\n\r\n  // function to add the beer to Mongo\r\n  addBeer = () => {\r\n    console.log(\"add beer function ran\")\r\n    const beerInfo = {\r\n      breweryName: this.state.breweryName,\r\n      beerName: this.state.beerName, \r\n      style: this.state.style, \r\n      ibu: this.state.ibu, \r\n      abv: this.state.abv,\r\n      inStock: true  \r\n    }\r\n    API.saveBeer(beerInfo).then(res => {\r\n        console.log(res, \"This is the response from beer info\");\r\n        if (res.status === 200) {\r\n          console.log(\"Beer succesfully added\");\r\n          this.loadBeers();\r\n        }\r\n        else {\r\n          console.log(\"There was a problem saving your beer\");\r\n        }\r\n    });\r\n  };\r\n\r\n  deleteBeer = id => {\r\n    API.deleteBeer(id)\r\n      .then(res => this.loadBeers())\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n\r\n  // updateInStock = (id) => {\r\n  //   API.getBeer(id)\r\n  //     .then(res => {\r\n  //       if (res.data.inStock === true) {\r\n  //         this.setState({ inStock: false });\r\n  //       }\r\n  //       else {\r\n  //         this.setState({ inStock: true });\r\n  //       }\r\n  //       console.log(this.state.inStock);\r\n  //       console.log(\"update in stock\");\r\n  //       this.editBeer(id)\r\n  //     })\r\n  //     .catch(err => console.log(err));\r\n  // };\r\n\r\n  toggleState = (id, instock) => {\r\n    console.log(instock + \"instock\")\r\n    if (instock === true) {\r\n      this.setState({ inStock: false });\r\n      console.log('changing state to false')\r\n      setTimeout(saveChanges, 3000)\r\n      // this.editBeer(id);\r\n    }\r\n    else {\r\n      this.setState({ inStock: true });\r\n      console.log('changing state to true')\r\n      setTimeout(saveChanges, 3000)\r\n      // this.editBeer(id);\r\n    }\r\n    function saveChanges() {\r\n      this.editBeer(id)\r\n    }\r\n    // this.setState(prevState => ({\r\n    //   inStock: !prevState.inStock,\r\n    // }));\r\n  };\r\n\r\n  editBeer = id => {\r\n    console.log(this.state);\r\n    console.log(\"state above\");\r\n    let data = {\r\n      '_id': id,\r\n      'inStock': this.state.inStock\r\n    }\r\n    API.updateBeer(id, data)\r\n    .then(\r\n      res => console.log(res),\r\n      console.log(\"res\"),\r\n      console.log(this.state.beers),\r\n      console.log(\"beer\"),\r\n      this.loadBeers()\r\n    )\r\n    .catch(err => console.log(err));\r\n    // this.loadBeers();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <br />\r\n        <Grid>\r\n          <Row>\r\n            <Col md={7}>\r\n              <h1>Admin Page</h1> \r\n            </Col>\r\n            <Col md={5}>\r\n              <Modal \r\n                buttonName=\"Add New Beer\" \r\n                modalTitle=\"Add New Beer\"\r\n                breweryName={this.state.breweryName}\r\n                beerName={this.state.beerName}\r\n                abv={this.state.abv}\r\n                ibu={this.state.ibu}\r\n                handleChange={this.handleInputChange}\r\n                handleClick={this.addBeer}\r\n              >\r\n              </Modal>\r\n            </Col>\r\n          </Row>\r\n\r\n          {this.state.beers.length ? (\r\n            <div>\r\n            {/* Headers */}\r\n            <Row>\r\n              <Col md={12}>\r\n                <Card>\r\n                  <Row>\r\n                    <Col md={1} className=\"inStock\">\r\n                      <h6>On Tap?</h6>\r\n                    </Col>\r\n                    <Col md={2} className=\"breweryName\">\r\n                      <h6>Brewery Name</h6>\r\n                    </Col>\r\n                    <Col md={2} className=\"beerName\">\r\n                      <h6>Beer Name</h6>\r\n                    </Col>\r\n                    <Col md={2} className=\"style\">\r\n                      <h6>Beer Style</h6>\r\n                    </Col>\r\n                    <Col md={1} className=\"abv\">\r\n                      <h6>ABV</h6>\r\n                    </Col>\r\n                    <Col md={2} className=\"ibu\">\r\n                      <h6>IBU</h6>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                    </Col>\r\n                  </Row>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n            {/* Beer Card Templates */}\r\n            <Row>\r\n              {/* Details for each Beer added to card */}\r\n                { this.state.beers.map( beer => (\r\n                  <Col md={12}>\r\n                    <Card>\r\n                      <Row>\r\n                        <Col md={1} className=\"inStock\">\r\n                          <input type=\"checkbox\" className=\"inStock\" checked={beer.inStock} onChange={() => this.toggleState(beer._id, beer.inStock)}/>\r\n                        </Col>\r\n                        <Col md={2} className=\"breweryName\">\r\n                          {beer.breweryName}\r\n                        </Col>\r\n                        <Col md={2} className=\"beerName\">\r\n                          {beer.beerName}\r\n                        </Col>\r\n                        <Col md={2} className=\"style\">\r\n                          {beer.style}\r\n                        </Col>\r\n                        <Col md={1} className=\"abv\">\r\n                          {beer.abv}\r\n                        </Col>\r\n                        <Col md={2} className=\"ibu\">\r\n                          {beer.ibu}\r\n                        </Col>\r\n                        <Col md={2}>\r\n                          <ButtonToolBar>\r\n                            <Button bsStyle=\"danger\" onClick={() => this.deleteBeer(beer._id)} >Delete</Button>\r\n                          </ButtonToolBar>\r\n                        </Col>\r\n                      </Row>\r\n                    </Card>\r\n                  </Col>\r\n                ))}\r\n            </Row>\r\n            </div>\r\n\r\n          ) : (\r\n            <h3> No Beers Listed -- Please click \"Add New Beer\" to begin. </h3>\r\n          )}\r\n\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;"]},"metadata":{},"sourceType":"module"}