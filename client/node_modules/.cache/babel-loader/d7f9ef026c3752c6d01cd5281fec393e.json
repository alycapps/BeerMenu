{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\alyss\\\\Documents\\\\Coding Boot Camp\\\\Homework\\\\BeerMenu\\\\client\\\\src\\\\pages\\\\admin\\\\admin.js\";\nimport React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport Grid from \"react-bootstrap/lib/Grid\";\nimport Row from \"react-bootstrap/lib/Row\";\nimport Col from \"react-bootstrap/lib/Col\";\nimport ButtonToolBar from \"react-bootstrap/lib/ButtonToolbar\";\nimport Button from \"react-bootstrap/lib/Button\";\nimport { Modal } from \"../../components/Modal\";\nimport { Card } from \"../../components/Card\";\n\nvar Admin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Admin, _Component);\n\n  function Admin() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Admin);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Admin)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: true,\n      beers: [],\n      inStock: \"\"\n    };\n\n    _this.loadBeers = function () {\n      API.getBeers().then(function (res) {\n        return _this.setState({\n          beers: res.data,\n          loading: false\n        });\n      }, console.log(_this.state.beers)).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.addBeer = function () {\n      var beerInfo = {\n        breweryName: _this.state.breweryName,\n        beerName: _this.state.beerName,\n        style: _this.state.style,\n        ibu: _this.state.ibu,\n        abv: _this.state.abv,\n        inStock: true\n      };\n      API.saveBeer(beerInfo).then(function (res) {\n        console.log(res, \"This is the response from beer info\");\n\n        if (res.status === 200) {\n          document.getElementById(\"messageLoc\").innerHTML = \"Beer succesfully added\";\n\n          _this.loadBeers();\n        } else {\n          document.getElementById(\"messageLoc\").innerHTML = \"There was a problem saving your beer\";\n        }\n      });\n    };\n\n    _this.deleteBeer = function (id) {\n      API.deleteBeer(id).then(function (res) {\n        return _this.loadBeers();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.toggleState = function (id, instock) {\n      console.log(instock + \"instock\");\n\n      if (instock === true) {\n        _this.setState({\n          inStock: false\n        });\n\n        console.log('changing state to false');\n        setTimeout(_this.editBeer.bind(null, id), 0);\n      } else {\n        _this.setState({\n          inStock: true\n        });\n\n        console.log('changing state to true');\n        setTimeout(_this.editBeer.bind(null, id), 0);\n      }\n    };\n\n    _this.editBeer = function (id) {\n      console.log(_this.state);\n      console.log(\"state above\");\n      var data = {\n        '_id': id,\n        'inStock': _this.state.inStock\n      };\n      API.updateBeer(id, data).then(function (res) {\n        return console.log(res);\n      }, console.log(\"res\"), console.log(_this.state.beers), console.log(\"beer\"), _this.loadBeers()).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.filter = function (event) {\n      var filterVal = event.target.value;\n      var newBeers = _this.state.beers;\n      console.log(filterVal);\n      newBeers.sort(_this.dynamicSort(filterVal));\n\n      _this.setState({\n        beers: newBeers\n      });\n\n      console.log(_this.state.beers);\n    };\n\n    _this.dynamicSort = function (property) {\n      var sortOrder = 1;\n\n      if (property[0] === \"-\") {\n        sortOrder = -1;\n        property = property.substr(1);\n      }\n\n      return function (a, b) {\n        if (sortOrder === -1) {\n          return b[property].localeCompare(a[property]);\n        } else {\n          return a[property].localeCompare(b[property]);\n        }\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(Admin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadBeers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // allows for better user experience on initial page load\n      if (this.state.loading) {\n        return 'Loading...';\n      } // actual functionality\n\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Admin Page\")), React.createElement(Col, {\n        md: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        buttonName: \"Add New Beer\",\n        modalTitle: \"Add New Beer\",\n        breweryName: this.state.breweryName,\n        beerName: this.state.beerName,\n        abv: this.state.abv,\n        ibu: this.state.ibu,\n        handleChange: this.handleInputChange,\n        handleClick: this.addBeer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }))), this.state.beers.length ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 1,\n        className: \"inStock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"On Tap?\")), React.createElement(Col, {\n        md: 2,\n        className: \"breweryName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Brewery Name\")), React.createElement(Col, {\n        md: 2,\n        className: \"beerName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Beer Name\")), React.createElement(Col, {\n        md: 2,\n        className: \"style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Beer Style\")), React.createElement(Col, {\n        md: 1,\n        className: \"abv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"ABV\")), React.createElement(Col, {\n        md: 2,\n        className: \"ibu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"IBU\")), React.createElement(Col, {\n        md: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        name: \"filter\",\n        onChange: this.filter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        name: \"filter\",\n        value: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Filter By:\"), React.createElement(\"option\", {\n        name: \"filter\",\n        value: \"breweryName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Brewery Name\"), React.createElement(\"option\", {\n        name: \"filter\",\n        value: \"beerName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, \"Beer Name\"), React.createElement(\"option\", {\n        name: \"filter\",\n        value: \"style\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"Beer Style\"))))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, this.state.beers.map(function (beer) {\n        return React.createElement(Col, {\n          md: 12,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: 1,\n          className: \"inStock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          className: \"inStock\",\n          checked: beer.inStock,\n          onChange: function onChange() {\n            return _this2.toggleState(beer._id, beer.inStock);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        })), React.createElement(Col, {\n          md: 2,\n          className: \"breweryName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        }, beer.breweryName), React.createElement(Col, {\n          md: 2,\n          className: \"beerName\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        }, beer.beerName), React.createElement(Col, {\n          md: 2,\n          className: \"style\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, beer.style), React.createElement(Col, {\n          md: 1,\n          className: \"abv\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, beer.abv), React.createElement(Col, {\n          md: 2,\n          className: \"ibu\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, beer.ibu), React.createElement(Col, {\n          md: 2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 221\n          },\n          __self: this\n        }, React.createElement(ButtonToolBar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 222\n          },\n          __self: this\n        }, React.createElement(Button, {\n          bsStyle: \"danger\",\n          onClick: function onClick() {\n            return _this2.deleteBeer(beer._id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, \"Delete\"))))));\n      }))) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \" No Beers Listed -- Please click \\\"Add New Beer\\\" to begin. \")));\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nexport default Admin;","map":{"version":3,"sources":["C:\\Users\\alyss\\Documents\\Coding Boot Camp\\Homework\\BeerMenu\\client\\src\\pages\\admin\\admin.js"],"names":["React","Component","API","Grid","Row","Col","ButtonToolBar","Button","Modal","Card","Admin","state","loading","beers","inStock","loadBeers","getBeers","then","res","setState","data","console","log","catch","err","handleInputChange","event","target","name","value","addBeer","beerInfo","breweryName","beerName","style","ibu","abv","saveBeer","status","document","getElementById","innerHTML","deleteBeer","id","toggleState","instock","setTimeout","editBeer","bind","updateBeer","filter","filterVal","newBeers","sort","dynamicSort","property","sortOrder","substr","a","b","localeCompare","length","map","beer","_id"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\nimport API from \"../../utils/API\"\r\nimport Grid from \"react-bootstrap/lib/Grid\";\r\nimport Row from \"react-bootstrap/lib/Row\";\r\nimport Col from \"react-bootstrap/lib/Col\";\r\nimport ButtonToolBar from \"react-bootstrap/lib/ButtonToolbar\";\r\nimport Button from \"react-bootstrap/lib/Button\";\r\nimport {Modal} from \"../../components/Modal\"\r\nimport {Card} from \"../../components/Card\";\r\n\r\n\r\nclass Admin extends Component {\r\n  state = {\r\n    loading: true,\r\n    beers: [],\r\n    inStock: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadBeers();\r\n  };\r\n\r\n  // function to load all beers\r\n  loadBeers = () => {\r\n    API.getBeers()\r\n      .then(res =>\r\n        this.setState({ beers: res.data, loading: false }),\r\n        console.log(this.state.beers)\r\n        )\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  // function to change states\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  // function to add the beer to Mongo\r\n  addBeer = () => {\r\n    const beerInfo = {\r\n      breweryName: this.state.breweryName,\r\n      beerName: this.state.beerName, \r\n      style: this.state.style, \r\n      ibu: this.state.ibu, \r\n      abv: this.state.abv,\r\n      inStock: true  \r\n    }\r\n    API.saveBeer(beerInfo).then(res => {\r\n        console.log(res, \"This is the response from beer info\");\r\n        if (res.status === 200) {\r\n          document.getElementById(\"messageLoc\").innerHTML = \"Beer succesfully added\";\r\n          this.loadBeers();\r\n        }\r\n        else {\r\n          document.getElementById(\"messageLoc\").innerHTML = \"There was a problem saving your beer\";\r\n        }\r\n    });\r\n  };\r\n\r\n  // function to delete a specific beer\r\n  deleteBeer = id => {\r\n    API.deleteBeer(id)\r\n      .then(res => this.loadBeers())\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  // function to change the instock to the opposite of the selected beer when the checkbox is clicked\r\n  toggleState = (id, instock) => {\r\n    console.log(instock + \"instock\")\r\n    if (instock === true) {\r\n      this.setState({ inStock: false });\r\n      console.log('changing state to false')\r\n      setTimeout(this.editBeer.bind(null,id), 0)\r\n    }\r\n    else {\r\n      this.setState({ inStock: true });\r\n      console.log('changing state to true')\r\n      setTimeout(this.editBeer.bind(null,id), 0)\r\n    }\r\n  };\r\n\r\n  // function to actually update the instock of the selected beer\r\n  editBeer = id => {\r\n    console.log(this.state);\r\n    console.log(\"state above\");\r\n    let data = {\r\n      '_id': id,\r\n      'inStock': this.state.inStock\r\n    }\r\n    API.updateBeer(id, data)\r\n    .then(\r\n      res => console.log(res),\r\n      console.log(\"res\"),\r\n      console.log(this.state.beers),\r\n      console.log(\"beer\"),\r\n      this.loadBeers()\r\n    )\r\n    .catch(err => console.log(err));\r\n  };\r\n\r\n  // function that filters based on dropdown\r\n  filter = (event) => {\r\n    let filterVal = event.target.value;\r\n    let newBeers = this.state.beers;\r\n    console.log(filterVal)\r\n    newBeers.sort(this.dynamicSort(filterVal))\r\n    this.setState({ beers: newBeers})\r\n    console.log(this.state.beers)\r\n  };\r\n\r\n  // alphabetizes the newBeers array \r\n  dynamicSort = (property) => {\r\n    var sortOrder = 1;\r\n    if(property[0] === \"-\") {\r\n        sortOrder = -1;\r\n        property = property.substr(1);\r\n    }\r\n    return function (a,b) {\r\n        if(sortOrder === -1){\r\n            return b[property].localeCompare(a[property]);\r\n        }else{\r\n            return a[property].localeCompare(b[property]);\r\n        }        \r\n    }\r\n  };\r\n\r\n  render() {\r\n    // allows for better user experience on initial page load\r\n    if(this.state.loading) {\r\n      return 'Loading...'\r\n    }\r\n    // actual functionality\r\n    return (\r\n      <div>\r\n        <br />\r\n        <Grid>\r\n          <Row>\r\n            <Col md={7}>\r\n              <h1>Admin Page</h1> \r\n            </Col>\r\n            <Col md={5}>\r\n              <Modal \r\n                buttonName=\"Add New Beer\" \r\n                modalTitle=\"Add New Beer\"\r\n                breweryName={this.state.breweryName}\r\n                beerName={this.state.beerName}\r\n                abv={this.state.abv}\r\n                ibu={this.state.ibu}\r\n                handleChange={this.handleInputChange}\r\n                handleClick={this.addBeer}\r\n              >\r\n              </Modal>\r\n            </Col>\r\n          </Row>\r\n\r\n          {this.state.beers.length ? (\r\n            <div>\r\n            {/* Headers */}\r\n            <Row>\r\n              <Col md={12}>\r\n                <Card>\r\n                  <Row>\r\n                    <Col md={1} className=\"inStock\">\r\n                      <h6>On Tap?</h6>\r\n                    </Col>\r\n                    <Col md={2} className=\"breweryName\">\r\n                      <h6>Brewery Name</h6>\r\n                    </Col>\r\n                    <Col md={2} className=\"beerName\">\r\n                      <h6>Beer Name</h6>\r\n                    </Col>\r\n                    <Col md={2} className=\"style\">\r\n                      <h6>Beer Style</h6>\r\n                    </Col>\r\n                    <Col md={1} className=\"abv\">\r\n                      <h6>ABV</h6>\r\n                    </Col>\r\n                    <Col md={2} className=\"ibu\">\r\n                      <h6>IBU</h6>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                    <select name=\"filter\" onChange={this.filter} >\r\n                      <option name= \"filter\" value=\"none\">Filter By:</option>\r\n                      <option name= \"filter\" value=\"breweryName\">Brewery Name</option>\r\n                      <option name= \"filter\" value=\"beerName\">Beer Name</option>\r\n                      <option name= \"filter\" value=\"style\">Beer Style</option>\r\n                    </select>\r\n                    </Col>\r\n                  </Row>\r\n                </Card>\r\n              </Col>\r\n            </Row>\r\n\r\n            {/* Beer Card Templates */}\r\n            <Row>\r\n                { this.state.beers.map( beer => (\r\n                  <Col md={12}>\r\n                    <Card>\r\n                      <Row>\r\n                        <Col md={1} className=\"inStock\">\r\n                          <input type=\"checkbox\" className=\"inStock\" checked={beer.inStock} onChange={() => this.toggleState(beer._id, beer.inStock)}/>\r\n                        </Col>\r\n                        <Col md={2} className=\"breweryName\">\r\n                          {beer.breweryName}\r\n                        </Col>\r\n                        <Col md={2} className=\"beerName\">\r\n                          {beer.beerName}\r\n                        </Col>\r\n                        <Col md={2} className=\"style\">\r\n                          {beer.style}\r\n                        </Col>\r\n                        <Col md={1} className=\"abv\">\r\n                          {beer.abv}\r\n                        </Col>\r\n                        <Col md={2} className=\"ibu\">\r\n                          {beer.ibu}\r\n                        </Col>\r\n                        <Col md={2}>\r\n                          <ButtonToolBar>\r\n                            <Button bsStyle=\"danger\" onClick={() => this.deleteBeer(beer._id)} >Delete</Button>\r\n                          </ButtonToolBar>\r\n                        </Col>\r\n                      </Row>\r\n                    </Card>\r\n                  </Col>\r\n                ))}\r\n            </Row>\r\n            </div>\r\n\r\n          ) : (\r\n            <h3> No Beers Listed -- Please click \"Add New Beer\" to begin. </h3>\r\n          )}\r\n\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;"]},"metadata":{},"sourceType":"module"}